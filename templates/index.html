$def with (oauth_dialog_url=None, fb_id=None, fb_first_name=None, lastfm_pref=None, lastfm_username=None, dayofweek_menu=None, hour_menu=None)

<html>
<head>
<title>Electric Shamer | Bettering People Through Public Humiliation</title>
</head>
<body>

<div align="center" style="font-family: sans-serif; margin-left: 20%; margin-right:20%">
<h1>
Electric Shamer
</h1>

<h2>
a.k.a. <br/>
Shamification
</h2>

<h3>
a.k.a. <br/>
Master Berater
</h3>

$if oauth_dialog_url:
    <p>Have you been meaning to listen to more music, but just haven't had the time?  Have you been meaning to run more, but you just haven't been able to find the motivation?  What if you had an app that posted on your Facebook wall (as yourself!) and publicly humiliated you until you did better?  Wonder no more.</p>
    <a href="$oauth_dialog_url">Log in to Facebook</a>
$elif fb_first_name:
    <p>Hello, $fb_first_name!  Check off the options below to choose your beratement. </p>
    <form name="shamerinput" action="change_options/" method="post">
    <p>Check off which services you'd like to improve on. Currently, only last.fm is supported.</p>
    <p>Last.fm
      $if lastfm_pref:
          <input type="checkbox" name="lastfmcheckbox" value="True" checked/>
      $else:
          <input type="checkbox" name="lastfmcheckbox" value="True" checked/>
      <input type="text" name="lastfmusername" value="$lastfm_username"/> </p>
    <p>Enter what time each week you'd like your beratement to arrive. </p>
    $:dayofweek_menu.render()
    $:hour_menu.render()
    <p>Get rid of my personal information, you power-hungry tyrant!
      <input type="checkbox" name="deleteinfo" value="True"/> </p>
    <p><input type="submit" value="Submit" /></p>
    <input type="hidden" name="fb_id" value="$fb_id" />
    </form>

    <a href="http://www.github.com/wsong/Public-Shamer">Check out this project on GitHub!</a>
</div>
</body>
</html>
